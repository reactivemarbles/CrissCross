<UserControl
    x:Class="CrissCross.WPF.UI.Gallery.Views.AllControlsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="https://github.com/reactivemarbles/CrissCross.ui"
    d:DesignHeight="450"
    d:DesignWidth="900"
    mc:Ignorable="d">
    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <ui:TextBlock
            Grid.Row="0"
            Margin="0,0,0,4"
            FontSize="20"
            FontWeight="Medium"
            Text="All Controls" />
        <DockPanel Grid.Row="1" Margin="0,0,0,8">
            <ui:TextBox
                Width="260"
                Margin="0,0,8,0"
                Text="{Binding FilterText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            <ui:InfoBadge VerticalAlignment="Center" Value="{Binding Path=FilteredControls.Count}" />
        </DockPanel>
        <ui:DynamicScrollViewer
            Grid.Row="2"
            CanContentScroll="True"
            VerticalScrollBarVisibility="Auto">
            <ItemsControl ItemsSource="{Binding FilteredControls}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <ui:Button
                            Width="210"
                            Height="68"
                            Margin="6"
                            HorizontalContentAlignment="Left"
                            Command="{Binding Command}">
                            <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                <ui:ImageIcon
                                    Width="32"
                                    Height="32"
                                    Margin="0,0,8,0"
                                    Source="{Binding Icon}" />
                                <StackPanel>
                                    <TextBlock FontWeight="SemiBold" Text="{Binding Name}" />
                                    <TextBlock
                                        FontSize="11"
                                        Foreground="Gray"
                                        Text="{Binding Description}"
                                        TextTrimming="CharacterEllipsis" />
                                </StackPanel>
                            </StackPanel>
                        </ui:Button>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ui:DynamicScrollViewer>
    </Grid>
</UserControl>
