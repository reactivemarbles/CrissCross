<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:CrissCross.WPF.UI.Controls">
    <Style TargetType="{x:Type controls:AlarmBanner}">
        <Setter Property="Background" Value="{DynamicResource InfoBarErrorSeverityBackgroundBrush}" />
        <Setter Property="Foreground" Value="{DynamicResource InfoBarTitleForeground}" />
        <Setter Property="HorizontalAlignment" Value="Stretch" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{DynamicResource InfoBarBorderBrush}" />
        <Setter Property="Border.CornerRadius" Value="{DynamicResource ControlCornerRadius}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AlarmBanner}">
                    <Grid x:Name="Root" Visibility="Collapsed">
                        <Border
                            x:Name="Container"
                            Padding="16,14,16,10"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{TemplateBinding Border.CornerRadius}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <controls:SymbolIcon
                                    x:Name="Icon"
                                    Grid.Column="0"
                                    Filled="True"
                                    FontSize="16" />

                                <TextBlock
                                    Grid.Column="1"
                                    Margin="8,0,8,0"
                                    Text="{TemplateBinding Message}"
                                    TextWrapping="Wrap" />

                                <StackPanel
                                    Grid.Column="2"
                                    Margin="8,0,0,0"
                                    VerticalAlignment="Top"
                                    Orientation="Horizontal">
                                    <controls:Button
                                        x:Name="AckButton"
                                        Margin="0,0,8,0"
                                        Command="{Binding Path=AcknowledgeCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                        Content="{TemplateBinding AcknowledgeText}" />
                                    <controls:Button
                                        x:Name="CloseButton"
                                        Padding="4"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Command="{Binding Path=CloseCommand, RelativeSource={RelativeSource TemplatedParent}}">
                                        <controls:Button.Icon>
                                            <controls:SymbolIcon Symbol="Dismiss24" />
                                        </controls:Button.Icon>
                                    </controls:Button>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsActive" Value="True">
                            <Setter TargetName="Root" Property="Visibility" Value="Visible" />
                        </Trigger>
                        <Trigger Property="IsClosable" Value="False">
                            <Setter TargetName="CloseButton" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsAcknowledgeVisible" Value="False">
                            <Setter TargetName="AckButton" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="Severity" Value="Informational">
                            <Setter TargetName="Container" Property="Background" Value="{DynamicResource InfoBarInformationalSeverityBackgroundBrush}" />
                            <Setter TargetName="Icon" Property="Symbol" Value="Info24" />
                            <Setter TargetName="Icon" Property="Foreground" Value="{DynamicResource InfoBarSuccessSeverityIconBackground}" />
                        </Trigger>
                        <Trigger Property="Severity" Value="Success">
                            <Setter TargetName="Container" Property="Background" Value="{DynamicResource InfoBarSuccessSeverityBackgroundBrush}" />
                            <Setter TargetName="Icon" Property="Symbol" Value="CheckmarkCircle24" />
                            <Setter TargetName="Icon" Property="Foreground" Value="{DynamicResource InfoBarSuccessSeverityIconBackground}" />
                        </Trigger>
                        <Trigger Property="Severity" Value="Warning">
                            <Setter TargetName="Container" Property="Background" Value="{DynamicResource InfoBarWarningSeverityBackgroundBrush}" />
                            <Setter TargetName="Icon" Property="Symbol" Value="ErrorCircle24" />
                            <Setter TargetName="Icon" Property="Foreground" Value="{DynamicResource InfoBarWarningSeverityIconBackground}" />
                        </Trigger>
                        <Trigger Property="Severity" Value="Error">
                            <Setter TargetName="Container" Property="Background" Value="{DynamicResource InfoBarErrorSeverityBackgroundBrush}" />
                            <Setter TargetName="Icon" Property="Symbol" Value="DismissCircle24" />
                            <Setter TargetName="Icon" Property="Foreground" Value="{DynamicResource InfoBarErrorSeverityIconBackground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
