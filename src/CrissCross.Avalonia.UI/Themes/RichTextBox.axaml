<Styles
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:CrissCross.Avalonia.UI.Controls;assembly=CrissCross.Avalonia.UI">

    <!--  CrissCross RichTextBox Style  -->
    <Style Selector="controls|RichTextBox">
        <Setter Property="Background" Value="#3D3D3D" />
        <Setter Property="Foreground" Value="#FFFFFF" />
        <Setter Property="BorderBrush" Value="#5D5D5D" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="MinHeight" Value="100" />
        <Setter Property="Padding" Value="8" />
        <Setter Property="AcceptsReturn" Value="True" />
        <Setter Property="AcceptsTab" Value="True" />
        <Setter Property="Template">
            <ControlTemplate TargetType="controls:RichTextBox">
                <controls:Border
                    Name="PART_BorderElement"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{TemplateBinding CornerRadius}">
                    <controls:Grid>
                        <!--  Watermark/Placeholder  -->
                        <controls:TextBlock
                            Name="PART_Watermark"
                            Margin="{TemplateBinding Padding}"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            Foreground="#808080"
                            IsHitTestVisible="False"
                            IsVisible="{Binding Text, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static StringConverters.IsNullOrEmpty}}"
                            Text="{TemplateBinding Watermark}" />

                        <!--  Formatted text presenter (shows when not editing)  -->
                        <controls:ScrollViewer
                            Name="PART_DisplayScrollViewer"
                            Margin="{TemplateBinding Padding}"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Auto"
                            Focusable="False"
                            IsHitTestVisible="{Binding IsVisible, ElementName=PART_FormattedPresenter}">
                             <controls:FormattedTextPresenter
                                 Name="PART_FormattedPresenter"
                                 HorizontalAlignment="Stretch"
                                 VerticalAlignment="Top"
                                 DefaultForeground="{TemplateBinding Foreground}"
                                 FontFamily="{TemplateBinding FontFamily}"
                                 FontSize="{TemplateBinding FontSize}"
                                 Foreground="{TemplateBinding Foreground}"
                                 IsVisible="False"
                                 TextWrapping="Wrap" />
                         </controls:ScrollViewer>

                        <!--  Editing TextBox  -->
                        <controls:TextBox
                            Name="PART_TextBox"
                            Padding="{TemplateBinding Padding}"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            AcceptsReturn="{TemplateBinding AcceptsReturn}"
                            AcceptsTab="{TemplateBinding AcceptsTab}"
                            Background="Transparent"
                            BorderThickness="0"
                            CaretBrush="#FFFFFF"
                            FontFamily="{TemplateBinding FontFamily}"
                            FontSize="{TemplateBinding FontSize}"
                            Foreground="{TemplateBinding Foreground}"
                            IsReadOnly="{TemplateBinding IsReadOnly}"
                            SelectionBrush="#400078D4"
                            TextWrapping="Wrap" />
                    </controls:Grid>
                </controls:Border>
            </ControlTemplate>
        </Setter>
    </Style>

    <!--  Focused State - accent border  -->
    <Style Selector="controls|RichTextBox:focus /template/ Border#PART_BorderElement">
        <Setter Property="BorderBrush" Value="#0078D4" />
    </Style>

    <!--  Focused State (within) - accent border  -->
    <Style Selector="controls|RichTextBox:focus-within /template/ Border#PART_BorderElement">
        <Setter Property="BorderBrush" Value="#0078D4" />
    </Style>

    <!--  PointerOver State  -->
    <Style Selector="controls|RichTextBox:pointerover /template/ Border#PART_BorderElement">
        <Setter Property="BorderBrush" Value="#7D7D7D" />
    </Style>

    <!--  PointerOver + Focused should keep accent color  -->
    <Style Selector="controls|RichTextBox:focus:pointerover /template/ Border#PART_BorderElement">
        <Setter Property="BorderBrush" Value="#0078D4" />
    </Style>

    <!--  Disabled State  -->
    <Style Selector="controls|RichTextBox:disabled">
        <Setter Property="Opacity" Value="0.5" />
    </Style>

    <!--  ReadOnly State - darker background  -->
    <Style Selector="controls|RichTextBox[IsReadOnly=True]">
        <Setter Property="Background" Value="#2D2D2D" />
        <Setter Property="Cursor" Value="Arrow" />
    </Style>

    <!--  Error State (for validation)  -->
    <Style Selector="controls|RichTextBox:error /template/ Border#PART_BorderElement">
        <Setter Property="BorderBrush" Value="#E81123" />
    </Style>

</Styles>
