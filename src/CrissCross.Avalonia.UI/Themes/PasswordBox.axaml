<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:CrissCross.Avalonia.UI.Controls;assembly=CrissCross.Avalonia.UI">
    
    <!-- CrissCross PasswordBox Style -->
    <Style Selector="controls|PasswordBox">
        <Setter Property="Background" Value="{DynamicResource TextControlBackground}" />
        <Setter Property="Foreground" Value="{DynamicResource TextControlForeground}" />
        <Setter Property="BorderBrush" Value="{DynamicResource TextControlBorderBrush}" />
        <Setter Property="SelectionBrush" Value="{DynamicResource TextControlSelectionHighlightColor}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="CornerRadius" Value="4" />
        <Setter Property="Padding" Value="10,6" />
        <Setter Property="MinHeight" Value="32" />
        <Setter Property="MinWidth" Value="200" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Name="BorderElement"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        CornerRadius="{TemplateBinding CornerRadius}"
                        MinWidth="{TemplateBinding MinWidth}"
                        MinHeight="{TemplateBinding MinHeight}">
                    <Grid ColumnDefinitions="*,Auto">
                        <!-- Watermark -->
                        <TextBlock Name="PART_Watermark"
                                   Text="{TemplateBinding Watermark}"
                                   Foreground="{DynamicResource TextControlPlaceholderForeground}"
                                   IsVisible="{Binding Text, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static StringConverters.IsNullOrEmpty}}"
                                   VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                   Margin="{TemplateBinding Padding}"
                                   IsHitTestVisible="False" />
                        
                        <ScrollViewer Name="PART_ScrollViewer"
                                      HorizontalScrollBarVisibility="{TemplateBinding (ScrollViewer.HorizontalScrollBarVisibility)}"
                                      VerticalScrollBarVisibility="{TemplateBinding (ScrollViewer.VerticalScrollBarVisibility)}">
                            <Panel>
                                <TextPresenter Name="PART_TextPresenter"
                                               Text="{TemplateBinding Text, Mode=TwoWay}"
                                               CaretBrush="{TemplateBinding CaretBrush}"
                                               CaretIndex="{TemplateBinding CaretIndex}"
                                               SelectionStart="{TemplateBinding SelectionStart}"
                                               SelectionEnd="{TemplateBinding SelectionEnd}"
                                               SelectionBrush="{TemplateBinding SelectionBrush}"
                                               SelectionForegroundBrush="{TemplateBinding SelectionForegroundBrush}"
                                               TextAlignment="{TemplateBinding TextAlignment}"
                                               TextWrapping="{TemplateBinding TextWrapping}"
                                               VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                               HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                               Margin="{TemplateBinding Padding}" />
                            </Panel>
                        </ScrollViewer>
                        
                        <!-- Reveal Password Button -->
                        <Button Name="RevealButton"
                                Grid.Column="1"
                                Background="Transparent"
                                BorderThickness="0"
                                Padding="8,0"
                                VerticalAlignment="Stretch"
                                IsVisible="{TemplateBinding RevealButtonEnabled}"
                                Command="{Binding $parent[controls:PasswordBox].TemplateButtonCommand}"
                                CommandParameter="reveal">
                            <Panel>
                                <!-- Eye icon (password hidden) -->
                                <Path Name="EyeIcon"
                                      Data="M12,4.5C7,4.5 2.73,7.61 1,12c1.73,4.39 6,7.5 11,7.5s9.27,-3.11 11,-7.5c-1.73,-4.39 -6,-7.5 -11,-7.5zM12,17c-2.76,0 -5,-2.24 -5,-5s2.24,-5 5,-5 5,2.24 5,5 -2.24,5 -5,5zM12,9c-1.66,0 -3,1.34 -3,3s1.34,3 3,3 3,-1.34 3,-3 -1.34,-3 -3,-3z"
                                      Fill="{DynamicResource TextControlForeground}"
                                      Width="16"
                                      Height="16"
                                      Stretch="Uniform"
                                      IsVisible="{Binding !IsPasswordRevealed, RelativeSource={RelativeSource TemplatedParent}}" />
                                <!-- Eye-off icon (password revealed) -->
                                <Path Name="EyeOffIcon"
                                      Data="M12,7c2.76,0 5,2.24 5,5 0,0.65 -0.13,1.26 -0.36,1.83l2.92,2.92c1.51,-1.26 2.7,-2.89 3.43,-4.75 -1.73,-4.39 -6,-7.5 -11,-7.5 -1.4,0 -2.74,0.25 -3.98,0.7l2.16,2.16C10.74,7.13 11.35,7 12,7zM2,4.27l2.28,2.28 0.46,0.46C3.08,8.3 1.78,10.02 1,12c1.73,4.39 6,7.5 11,7.5 1.55,0 3.03,-0.3 4.38,-0.84l0.42,0.42L19.73,22 21,20.73 3.27,3 2,4.27zM7.53,9.8l1.55,1.55c-0.05,0.21 -0.08,0.43 -0.08,0.65 0,1.66 1.34,3 3,3 0.22,0 0.44,-0.03 0.65,-0.08l1.55,1.55c-0.67,0.33 -1.41,0.53 -2.2,0.53 -2.76,0 -5,-2.24 -5,-5 0,-0.79 0.2,-1.53 0.53,-2.2zM11.84,9.02l3.15,3.15 0.02,-0.16c0,-1.66 -1.34,-3 -3,-3l-0.17,0.01z"
                                      Fill="{DynamicResource TextControlForeground}"
                                      Width="16"
                                      Height="16"
                                      Stretch="Uniform"
                                      IsVisible="{Binding IsPasswordRevealed, RelativeSource={RelativeSource TemplatedParent}}" />
                            </Panel>
                        </Button>
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>
    </Style>
    
    <!-- Focused State -->
    <Style Selector="controls|PasswordBox:focus /template/ Border#BorderElement">
        <Setter Property="BorderBrush" Value="{DynamicResource TextControlBorderBrushFocused}" />
        <Setter Property="BorderThickness" Value="1,1,1,2" />
    </Style>
    
    <!-- PointerOver State -->
    <Style Selector="controls|PasswordBox:pointerover /template/ Border#BorderElement">
        <Setter Property="BorderBrush" Value="{DynamicResource TextControlBorderBrushPointerOver}" />
    </Style>
    
    <!-- Disabled State -->
    <Style Selector="controls|PasswordBox:disabled">
        <Setter Property="Opacity" Value="0.5" />
    </Style>
    
</Styles>
